<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.java.mapper.OaTeamWorkerCustomMapper">
    <resultMap id="BaseResultMap" type="org.java.entity.OaTeamWorker" >
        <id column="wo_id" property="woId" jdbcType="VARCHAR" />
        <result column="wo_name" property="woName" jdbcType="VARCHAR" />
        <result column="wo_loginName" property="woLoginname" jdbcType="VARCHAR" />
        <result column="wo_loginPwd" property="woLoginpwd" jdbcType="VARCHAR" />
        <result column="wo_role" property="woRole" jdbcType="INTEGER" />
        <result column="wo_gender" property="woGender" jdbcType="CHAR" />
        <result column="wo_email" property="woEmail" jdbcType="VARCHAR" />
        <result column="wo_infomation" property="woInfomation" jdbcType="VARCHAR" />
        <result column="wo_photo" property="woPhoto" jdbcType="VARCHAR" />
        <result column="wo_stauts" property="woStauts" jdbcType="INTEGER" />
        <result column="wo_stationId" property="woStationid" jdbcType="INTEGER" />
        <result column="wo_deptId" property="woDeptid" jdbcType="INTEGER" />
        <result column="wo_phone" property="woPhone" jdbcType="VARCHAR" />
    </resultMap>
    
    <select id="selManageByIdenty" resultMap="BaseResultMap">
        select * FROM oa_team_worker where wo_role =#{rid}
    </select>

    <select id="selDeptManage" resultMap="BaseResultMap">
        SELECT * FROM oa_team_worker WHERE wo_deptId =#{deptId} AND wo_role =4
    </select>

    <select id="selDeptEmployee" resultMap="BaseResultMap">
        SELECT * FROM oa_team_worker WHERE wo_deptId =#{deptId} AND wo_role =5
    </select>
    
    <select id="loginInfo" resultMap="BaseResultMap">
        select * from oa_team_worker where wo_loginName= #{username} and wo_loginPwd=#{password}
    </select>

    <select id="one" resultType="java.util.HashMap">
        SELECT * FROM oa_team_role
    </select>

    <select id="userByDeptId" resultMap="BaseResultMap" >
        select * FROM oa_team_worker
        <where>
            <if test="dept!=null">
                <foreach collection="dept" item="dept" open=" wo_deptId in (" close=")" separator=",">
                    #{dept}
                </foreach>
            </if>
        </where>
    </select>

</mapper>